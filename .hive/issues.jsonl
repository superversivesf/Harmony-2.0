{"id":"cell-qq6j9x-mlwvlkgnpdp","title":".NET 10 Modernization Audit","description":"Audit codebase for problems and modernization opportunities. Report findings and auto-fix safe issues (naming, formatting, minor modernizations).","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-21T22:13:51.191Z","updated_at":"2026-02-21T22:13:51.191Z","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkgu49z","title":"Audit DTO classes for modernization","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:13:51.198Z","updated_at":"2026-02-21T22:39:15.312Z","closed_at":"2026-02-21T22:39:15.312Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkgws7k","title":"Audit Logger and ChapterConvertor","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:13:51.200Z","updated_at":"2026-02-21T22:39:18.921Z","closed_at":"2026-02-21T22:39:18.921Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkgxhpp","title":"Audit FFProbeAnalyzer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:13:51.201Z","updated_at":"2026-02-21T22:39:22.092Z","closed_at":"2026-02-21T22:39:22.092Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkgz0gj","title":"Audit Program.cs entry point","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:13:51.203Z","updated_at":"2026-02-21T22:39:25.539Z","closed_at":"2026-02-21T22:39:25.539Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkh3oc6","title":"Audit AAXtoM4BConvertor","description":"## Modernization Audit Complete\n\n### Fixes Applied (Safe Auto-fixes)\n1. ✅ String interpolation: Replaced string concatenations with `\"\"`\n2. ✅ Pattern matching: `!= null` → `is not null`, `== null` → `is null`\n3. ✅ `var` for local variables where type is obvious\n4. ✅ `string.Empty` (lowercase) for consistency\n5. ✅ Removed double semicolon typo\n6. ✅ Removed redundant `this.` prefix\n7. ✅ Added null-coalescing `?? string.Empty` for `Path.GetDirectoryName`\n8. ✅ Added null guard: `if (matchingFile is not null && directory is not null)`\n\n### Issues Requiring Manual Review\n1. **Nullable reference warnings (15+)** - Deep null chains in `AddMetadataToM4A()`:\n   - Lines 330-331: `aaxInfo?.format.tags.title` dereferences potentially null `tags`\n   - Line 333: `ProcessTitleForComparison(titleString)` with possibly null input\n   - Lines 345-354: Multiple dereferences inside `if (data is not null)` block\n   - Line 169: `Regex.Replace(title, ...)` where `title` may be null\n   - Line 173: `Path.Combine()` with potentially null `title`\n\n2. **Async/await pattern** - Uses `Task.Wait()` instead of `async/await` (conscious design choice for console app)\n\n3. **Method signatures** - Some methods take non-nullable parameters but may receive null\n\n**Build Status:** ✅ Build succeeded with 40 warnings (pre-existing nullable reference warnings)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T22:13:51.207Z","updated_at":"2026-02-21T22:48:06.361Z","closed_at":"2026-02-21T22:48:06.361Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkh48za","title":"Audit AAXCtoM4BConvertor","description":"## Audit Summary: AAXCtoM4BConvertor.cs\n\n### Issues Found & Fixes Applied (8 safe auto-fixes)\n\n1. **Double semicolon** (line 176) → Fixed: `title;;` → `title;`\n2. **String interpolation** (line 277) → Fixed: `\"[\" + args.Percent.ToString(\"D3\") + \"%]\"` → `$\"[{args.Percent:D3}%]\"`\n3. **String interpolation** (line 394-395) → Fixed: Exception messages now use `$\"...\"` instead of string concatenation\n4. **String interpolation** (line 57) → Fixed: `\"Processing \" + Path.GetFileName(filePath)` → `$\"Processing {Path.GetFileName(filePath)}\"`\n5. **Redundant newline** (line 46) → Fixed: Removed `\\n` from `WriteLine` (newline is implicit)\n6. **`String.Empty`** (line 109) → Fixed: Changed to lowercase `string.Empty` per conventions\n7. **Pattern matching** (line 76) → Fixed: `intermediateFile == null` → `intermediateFile is null`\n8. **Pattern matching** (line 295) → Fixed: `matchingFile != null` → `matchingFile is not null`\n\n### Issues Requiring Manual Review (7 categories)\n\n1. **Async/Await Pattern Violations** (HIGH PRIORITY)\n   - Lines 91, 117, 207, 219, 269, 309: Uses `.Wait()` on async operations\n   - `FFProbeAnalyzer.AnalyzeFile()` returns `Task<bool>` but called with `.Wait()` and `.Result`\n   - **Recommendation**: Convert entire class to async/await pattern\n\n2. **Null Reference Warnings** (HIGH PRIORITY - CS8602, CS8604)\n   - Lines 65-66, 74, 98, 179, 183, 289, 330-346: Multiple null dereference warnings\n\n3. **`this.` Qualifier** \n   - Lines 65-66, 242: Inconsistent use of `this.` prefix\n   - **Recommendation**: Remove `this.` per project style\n\n4. **Redundant `using` Statements**\n   - Line 11: `SearchOption` alias unused\n\n5. **Error Handling Gaps**\n   - No try-catch around file I/O operations\n   - No validation of voucher file existence\n\n6. **Commented Dead Code**\n   - Lines 128-132, 222, 225-226: Commented-out code\n\n7. **Potential Performance** (line 378-379)\n   - CleanTitle could use `ReadOnlySpan` if hot path\n\n### Class Reference Status\n- `FFProbeAnalyzer` class name is **correct** - no rename needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T22:13:51.208Z","updated_at":"2026-02-21T22:48:10.208Z","closed_at":"2026-02-21T22:48:10.208Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwvlkh5sqd","title":"Compile audit report and summary","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-21T22:13:51.209Z","updated_at":"2026-02-21T22:51:30.737Z","closed_at":"2026-02-21T22:51:30.737Z","parent_id":"cell-qq6j9x-mlwvlkgnpdp","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5umtqcz","title":"Fix Critical Bugs and Add Tests","description":"Fix 3 critical bugs from TODO.md and add xUnit test coverage","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-21T22:57:37.109Z","updated_at":"2026-02-21T22:57:37.109Z","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5umz35a","title":"Create xUnit test project","description":"Created Harmony.Tests xUnit test project with FluentAssertions and coverlet.collector. Added project reference to Harmony. Updated Harmony.sln to include the test project. Fixed main project to exclude test files. Updated both projects to target net10.0 to match installed runtime. Build and tests pass successfully.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:57:37.115Z","updated_at":"2026-02-22T01:10:52.597Z","closed_at":"2026-02-22T01:10:52.597Z","parent_id":"cell-qq6j9x-mlwx5umtqcz","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5un1o2f","title":"Fix Thread.Sleep bug in Program.cs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:57:37.117Z","updated_at":"2026-02-22T01:11:43.356Z","closed_at":"2026-02-22T01:11:43.356Z","parent_id":"cell-qq6j9x-mlwx5umtqcz","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5un3q36","title":"Fix FFProbeAnalyzer always returns true","description":"Fixed FFProbeAnalyzer.AnalyzeFile that always returned true. Removed malformed probe command with trailing quote, now uses FFmpeg.GetMediaInfo() properly and returns actual validation result. Build succeeded.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:57:37.119Z","updated_at":"2026-02-22T01:12:14.375Z","closed_at":"2026-02-22T01:12:14.375Z","parent_id":"cell-qq6j9x-mlwx5umtqcz","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5un429b","title":"Fix NullReferenceException in AAXCtoM4BConvertor.GenerateCover","description":"Fixed NullReferenceException in AAXCtoM4BConvertor.GenerateCover method. Added null guard for Path.GetDirectoryName() return value. When directory is null (malformed path), the method now safely falls through to FFmpeg extraction instead of crashing on Directory.GetFiles() with null argument. Build verified with 0 errors.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-21T22:57:37.120Z","updated_at":"2026-02-22T01:12:48.631Z","closed_at":"2026-02-22T01:12:48.631Z","parent_id":"cell-qq6j9x-mlwx5umtqcz","dependencies":[],"labels":[],"comments":[]}
{"id":"cell-qq6j9x-mlwx5un7h92","title":"Add tests for critical fixes and core functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-21T22:57:37.123Z","updated_at":"2026-02-22T01:27:03.909Z","closed_at":"2026-02-22T01:27:03.909Z","parent_id":"cell-qq6j9x-mlwx5umtqcz","dependencies":[],"labels":[],"comments":[]}
